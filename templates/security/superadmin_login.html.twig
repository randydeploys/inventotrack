<!DOCTYPE html>
<html lang="fr"
      class="light-style layout-wide customizer-hide"
      dir="ltr"
      data-theme="theme-default"
      data-assets-path="{{ asset('assets/') }}"
      data-template="vertical-menu-template-no-customizer">

<head>
    <meta charset="utf-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Super Admin – Connexion</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ asset('assets/img/favicon/favicon.ico') }}" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap"
          rel="stylesheet"/>

    <!-- Icons -->
    <link rel="stylesheet" href="{{ asset('assets/vendor/fonts/tabler-icons.css') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/vendor/fonts/fontawesome.css') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/vendor/fonts/flag-icons.css') }}"/>

    <!-- Core CSS -->
    <link rel="stylesheet" href="{{ asset('assets/vendor/css/rtl/core.css') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/vendor/css/rtl/theme-default.css') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/css/demo.css') }}"/>

    <!-- Page CSS -->
    <link rel="stylesheet" href="{{ asset('assets/vendor/css/pages/page-auth.css') }}"/>

    <script src="{{ asset('assets/vendor/js/helpers.js') }}"></script>
    <script src="{{ asset('assets/js/config.js') }}"></script>

    <style>
        /* ====== THEME SUPERADMIN RED ====== */
        .btn-superadmin {
            background: linear-gradient(72deg, #dc2626, #f87171);
            border: none;
            color: white !important;
            font-weight: 600;
        }
        .btn-superadmin:hover {
            box-shadow: 0 4px 18px rgba(220, 38, 38, 0.55);
        }

        .superadmin-badge {
            background: linear-gradient(72deg, #dc2626, #f87171);
            padding: 6px 14px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .app-brand-text {
            color: #dc2626 !important;
            font-weight: 700 !important;
        }

        .superadmin-logo svg path:first-child {
            fill: #dc2626 !important;
        }
        .superadmin-logo svg path:last-child {
            fill: #dc2626 !important;
        }
    </style>
</head>

<body>
<div class="container-xxl">
    <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner py-6">

            <!-- Login Card -->
            <div class="card">
                <div class="card-body">

                    <!-- Logo -->
                    <div class="app-brand justify-content-center mb-4">
                        <a href="#" class="app-brand-link">
                            <span class="app-brand-logo superadmin-logo">
                                {% include 'components/logo_inventotrack.html.twig' %}
                            </span>
                            <span class="app-brand-text ms-2">Platform Admin</span>
                        </a>
                    </div>

                    <!-- Badge -->
                    <div class="text-center mb-3">
                        <span class="superadmin-badge">
                            <i class="ti ti-crown me-1"></i>
                            Super Administrator
                        </span>
                    </div>

                    <h4 class="mb-1 text-center">Accès plateforme</h4>
                    <p class="mb-4 text-center">Connexion réservée aux Super Administrateurs</p>

                    {% if error %}
                        <div class="alert alert-danger">
                            <i class="ti ti-alert-triangle me-1"></i>
                            {{ error.messageKey|trans(error.messageData, 'security') }}
                        </div>
                    {% endif %}

                    <form method="post" class="mb-4" action="{{ path('superadmin_login') }}">

                        <!-- Email -->
                        <div class="mb-4">
                            <label for="email" class="form-label">Adresse e-mail</label>
                            <input type="email"
                                   class="form-control"
                                   id="email"
                                   name="_username"
                                   value="{{ last_username }}"
                                   placeholder="superadmin@platform.com"
                                   required autofocus>
                        </div>

                        <!-- Password -->
                        <div class="mb-4 form-password-toggle">
                            <label for="password" class="form-label">Mot de passe</label>
                            <div class="input-group input-group-merge">
                                <input type="password"
                                       id="password"
                                       class="form-control"
                                       name="_password"
                                       placeholder="••••••••"
                                       required>
                                <span class="input-group-text cursor-pointer"><i class="ti ti-eye-off"></i></span>
                            </div>
                        </div>

                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                        <button class="btn btn-superadmin d-grid w-100" type="submit">
                            <i class="ti ti-lock-open me-2"></i>
                            Se connecter
                        </button>
                    </form>

                    <p class="text-center text-muted mt-4">
                        © {{ "now"|date("Y") }} InventoTrack — Plateforme SuperAdmin
                    </p>
                </div>
            </div>
            <!-- /Login Card -->

        </div>
    </div>
</div>

<!-- Core JS -->
<script src="{{ asset('assets/vendor/libs/jquery/jquery.js') }}"></script>
<script src="{{ asset('assets/vendor/libs/popper/popper.js') }}"></script>
<script src="{{ asset('assets/vendor/js/bootstrap.js') }}"></script>
<script src="{{ asset('assets/vendor/libs/node-waves/node-waves.js') }}"></script>
<script src="{{ asset('assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js') }}"></script>
<script src="{{ asset('assets/vendor/js/menu.js') }}"></script>

</body>
</html>
